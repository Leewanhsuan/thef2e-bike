!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=4)}([function(t,e,o){var n=o(1),i=o(2);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(i,a);t.exports=i.locals||{}},function(t,e,o){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var t={};return function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}t[e]=o}return t[e]}}(),r=[];function p(t){for(var e=-1,o=0;o<r.length;o++)if(r[o].identifier===t){e=o;break}return e}function s(t,e){for(var o={},n=[],i=0;i<t.length;i++){var a=t[i],s=e.base?a[0]+e.base:a[0],c=o[s]||0,d="".concat(s," ").concat(c);o[s]=c+1;var l=p(d),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(r[l].references++,r[l].updater(f)):r.push({identifier:d,updater:g(f,e),references:1}),n.push(d)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=o.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var r=a(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,l=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function f(t,e,o,n){var i=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var a=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function u(t,e,o){var n=o.css,i=o.media,a=o.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var x=null,h=0;function g(t,e){var o,n,i;if(e.singleton){var a=h++;o=x||(x=c(e)),n=f.bind(null,o,a,!1),i=f.bind(null,o,a,!0)}else o=c(e),n=u.bind(null,o,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(o)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var o=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<o.length;n++){var i=p(o[n]);r[i].references--}for(var a=s(t,e),c=0;c<o.length;c++){var d=p(o[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}o=a}}}},function(t,e,o){(e=o(3)(!1)).push([t.i,"#map{height:1000px;width:70%;position:fixed;top:0px;right:0px;display:block;z-index:-100;overflow-y:hidden}@media screen and (max-width: 480px){#map{height:1000px;width:100%;position:fixed;top:-150px;right:0px;display:block;z-index:-100}}body{font-family:'Noto Sans TC', sans-serif;margin:0;padding:0}.container{width:100%;height:auto;position:static}.leaflet-control{position:absolute;left:880px;top:10px}.sideBar{height:300px;width:30%;position:absolute;top:0px;left:0px;display:block;z-index:0}@media screen and (max-width: 480px){.sideBar{height:150px;width:100%;position:absolute;top:10px;left:0px;display:block;z-index:3}}.logoBox{position:fixed;width:25%;height:56px;left:36px;top:0px;z-index:100;background:#ffffff;box-shadow:0px 4px 13px rgba(0,0,0,0.15);border-radius:0px 0px 9px 9px;margin:auto 0}@media screen and (max-width: 480px){.logoBox{position:fixed;width:100%;height:70px;left:0px;top:0px;z-index:4;background:#ffffff;box-shadow:0px 4px 13px rgba(0,0,0,0.15);border-radius:0px}}.logoBox-logo{width:48.12px;height:48px;position:absolute;left:15%;top:5px}@media screen and (max-width: 480px){.logoBox-logo{width:48.12px;height:48px;position:absolute;left:10%;top:10px}}.title1{font-style:normal;font-weight:bold;font-size:28px;line-height:125%;display:flex;align-items:flex-end;color:#2d2d2d;position:absolute;left:30%;top:10px}@media screen and (max-width: 480px){.title1{font-style:normal;font-weight:bold;font-size:28px;line-height:125%;display:flex;align-items:flex-end;color:#2d2d2d;position:absolute;left:25%;top:15px}}.title2{font-style:normal;font-weight:normal;font-size:14px;line-height:140%;display:flex;align-items:flex-end;color:#2d2d2d;position:absolute;left:48%;top:25px}@media screen and (max-width: 480px){.title2{font-style:normal;font-weight:normal;font-size:16px;line-height:140%;display:flex;align-items:flex-end;color:#2d2d2d;position:absolute;left:42%;top:25px}}.select-group{font-style:'Noto Sans TC';display:flex;flex-direction:row;position:relative;top:80px;left:7%;margin:auto 0}.form-select-city{align-items:center;padding:12px 16px;position:relative;width:35%;height:48px;background:#ffffff;box-shadow:0px 3px 8px rgba(75,75,75,0.3);border-radius:27px;border:0px}.form-select{align-items:center;padding:12px 16px;position:relative;width:45%;height:48px;left:5%;background:#ffffff;box-shadow:0px 3px 8px rgba(75,75,75,0.3);border-radius:27px;border:0px}#testClick{position:absolute;right:5%;bottom:5%;width:64px;height:64px;background:#686ffc;box-shadow:0px 2px 10px rgba(52,57,181,0.36);border-radius:50px;border:0px;z-index:3;position:fixed}@media screen and (max-width: 480px){#testClick{position:fixed;right:10%;bottom:10%;width:50px;height:50px;background:#686ffc;box-shadow:0px 2px 10px rgba(52,57,181,0.36);border-radius:50px;border:0px;z-index:3}}.myMOUSE:hover{cursor:pointer}.fa-location-arrow{color:white}.leaflet-popup-content-wrapper{background-color:#e0e2fe}@media screen and (max-width: 480px){.leaflet-popup-content-wrapper{background-color:#e0e2fe;z-index:100}}.leaflet-popup-tip{background:#e0e2fe}@media screen and (max-width: 480px){.leaflet-popup-tip{background:#e0e2fe;z-index:100}}.bike-card{width:200px;height:200px}.card-subtitle{margin:0;padding-top:5px;color:#3439b5}.card-title{color:#131678}.card-text{font-size:16px;padding-top:210px}.bike-numbers{font-size:24px;color:#131678;padding-left:50px;padding-top:50px}.fa-sign-out-alt{color:#131678;padding-right:10px;padding-top:10px;font-size:20px}.fa-sign-in-alt{color:#131678;padding-right:10px;padding-top:10px;font-size:20px}#cards-div{height:700px;width:30%;position:absolute;top:150px;left:0px;display:block;z-index:0}@media screen and (max-width: 480px){#cards-div{width:100%;position:absolute;left:0px;top:500px;display:flex;flex-direction:column;align-items:flex-start;z-index:0}}.route-cards{width:80%;position:absolute;top:130px;display:flex;flex-direction:column;align-items:flex-start}@media screen and (max-width: 480px){.route-cards{width:80%;position:absolute;top:130px;display:flex;flex-direction:column;align-items:flex-start;z-index:10}}.route-card{width:100%;height:180px;background:#eafbd3;box-shadow:0px 4px 13px rgba(0,0,0,0.15);border-radius:9px;position:relative;top:20px;left:15px;padding-top:20px}@media screen and (max-width: 480px){.route-card{width:100%;height:180px;background:#eafbd3;box-shadow:0px 4px 13px rgba(0,0,0,0.15);border-radius:9px;position:relative;top:20px;left:15px;padding-top:20px;z-index:20}}.route-title{position:absolute;left:25px;font-style:normal;font-weight:bold;font-size:24px;line-height:140%;color:#0d5706}.route-length{position:absolute;left:25px;top:80px;color:#0d5706;font-size:16px;padding-top:10px}.routeS2E{width:90%;height:60px;background:#ffffff;position:absolute;bottom:10px;left:20px}.routeStart{position:absolute;bottom:10px;width:130px;top:10px;left:10px;font-style:normal;font-weight:normal;font-size:14px;line-height:140%}.routeStartPlace{font-size:12px}.routeEndPlace{font-size:12px}.routeEnd{position:absolute;top:10px;left:150px;font-style:normal;font-weight:normal;font-size:14px;line-height:140%;width:130px}.cyclingLength{padding-left:5px;padding-right:5px}#route-cards{width:80%;position:absolute;left:30px;top:0px;display:flex;flex-direction:column;align-items:flex-start}#food-cards{width:80%;position:absolute;left:30px;top:200px;display:flex;flex-direction:column;align-items:flex-start}#food-card{width:100%;height:330px;background:#fff9cc;box-shadow:0px 4px 13px rgba(0,0,0,0.15);border-radius:9px;position:relative;top:20px;left:15px;margin-top:20px}.food-image{width:96%;aspect-ratio:370 / 162;position:absolute;left:2%;top:0px;border-radius:9px;flex:none;order:0;align-self:stretch;flex-grow:1;margin:8px 0px;object-fit:cover}.food-title{position:absolute;top:170px;left:25px;font-style:normal;font-weight:bold;font-size:24px;line-height:140%;color:#854b05}.food-address{position:absolute;left:25px;top:200px;font-size:14px;padding-top:10px;margin-right:10px}.food-phone{position:absolute;left:25px;top:230px;font-size:14px;padding-top:10px}.food-openTime{position:absolute;left:25px;top:260px;font-size:14px;padding-top:10px}.fa-map-pin{margin-left:5px;color:#854b05;font-size:16px}.fa-map-pin:hover{font-size:22px;color:#f68300}.fa-phone{margin-left:5px;font-size:14px;color:#854b05}.fa-phone:hover{font-size:20px;color:#f68300}#noFood{font-size:18px;position:absolute;top:220px;left:10%;color:#131678}@media screen and (max-width: 480px){#noFood{display:none}}.footer{width:30%;position:fixed;bottom:0px;font-size:12px;color:#e0e2fe;text-align:center}@media screen and (max-width: 480px){.footer{width:100%;position:fixed;bottom:20px;font-size:10px;color:#131678;text-align:center}}\n",""]),t.exports=e},function(t,e,o){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=function(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"==typeof btoa){var i=(r=n,p=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),"/*# ".concat(s," */")),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[o].concat(a).concat([i]).join("\n")}var r,p,s;return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(i[r]=!0)}for(var p=0;p<t.length;p++){var s=[].concat(t[p]);n&&i[s[0]]||(o&&(s[2]?s[2]="".concat(o," and ").concat(s[2]):s[2]=o),e.push(s))}},e}},function(t,e,o){"use strict";o.r(e);o(0);var n,i=function(){var t=(new Date).toGMTString(),e=new jsSHA("SHA-1","TEXT");return e.setHMACKey("i7UmCAqBwc6Bj9n1Jy6AHgMv6SI","TEXT"),e.update("x-date: "+t),{Authorization:'hmac username="2db62364b8cc45119ba7a9c97c74cfe0", algorithm="hmac-sha1", headers="x-date", signature="'+e.getHMAC("B64")+'"',"X-Date":t}},a={default:"城市",Taipei:"臺北市",NewTaipei:"新北市",Taoyuan:"桃園市",Taichung:"臺中市",Tainan:"臺南市",Kaohsiung:"高雄市",Keelung:"基隆市",HsinchuCounty:"新竹縣",MiaoliCounty:"苗栗縣",ChanghuaCounty:"彰化縣",NantouCounty:"南投縣",YunlinCounty:"雲林縣",ChiayiCounty:"嘉義縣",Chiayi:"嘉義市",PingtungCounty:"屏東縣",YilanCounty:"宜蘭縣",HualienCounty:"花蓮縣",TaitungCounty:"臺東縣",KinmenCounty:"金門縣",PenghuCounty:"澎湖縣"},r=[];window.addEventListener("load",(function(){n=L.map("map").setView([25.0107036,121.5040648],15),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1Ijoic2FuZHlsZWUiLCJhIjoiY2t3MGR4d2RsMHh4ZzJvbm9wb3dzNG9pbCJ9.kpIV-p6GnIpY0QIVGl0Svg"}).addTo(n),document.getElementById("testClick").addEventListener("click",(function(){return p()})),x(),h();var t=document.getElementById("bikeCity");t.addEventListener("change",(function(){var e=t.selectedIndex,o=Object.keys(a)[e];s(o)}))}));var p=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var e=t.coords.longitude,o=t.coords.latitude;n.setView([o,e],13),u(e,o)}),(function(t){var e=t.code,o=t.message;console.error(e),console.error(o)}))},s=function(t){var e="https://ptx.transportdata.tw/MOTC/v2/Cycling/Shape/"+t+"?",o=document.querySelector("#bikeRoute");axios({method:"get",url:e,headers:i()}).then((function(t){var e=t.data,i='<option class="form-select" value="">請先選擇城市</option>';e.forEach((function(t){i+='<option value="'.concat(t.RouteName,'">').concat(t.RouteName,"</option>")})),o.innerHTML=i,o.addEventListener("change",(function(t){var o=t.target.value;n(e,o)}))})).then((function(t){})).catch((function(t){return console.log("error",t)}));var n=function(t,e){t.forEach((function(t){if(t.RouteName===e){var o=t.Geometry;c(o),d(t);var n=t.Geometry.match(/[^MULTILINESTRING+^\(+^\+^ ),]+/g),i=n.slice(0,1),a=n.slice(1,2);l(i,a),g(i,a)}}))}},c=function(t){var e=(new Wkt.Wkt).read(t).toJson(),o=L.geoJSON(e,{style:{color:"#55B724",weight:5,opacity:.65}}).addTo(n);o.addData(e),n.fitBounds(o.getBounds())},d=function(t){var e=document.getElementById("route-cards");e.innerHTML="",e.innerHTML+='\n        <div class="route-card">\n            <span class="route-title">'.concat(t.RouteName,'</span>\n                <span class="route-length">\n                    全長\n                    <span class="cyclingLength">\n                        ').concat((t.CyclingLength/1e3).toFixed(2),'\n                    </span>公里\n                </span>\n            <div class="routeS2E">\n                <span class="routeStart">起點</br>\n                    <span class="routeStartPlace">\n                        ').concat(t.RoadSectionStart,'\n                    </span>\n                </span>\n                <span class="routeEnd">終點</br>\n                    <span class="routeEndPlace">').concat(t.RoadSectionEnd,"</span>\n                </span>\n            </div>\n        </div>\n    ")},l=function(t,e){u(t,e)},f=[],u=function(t,e){axios({method:"get",url:"https://ptx.transportdata.tw/MOTC/v2/Bike/Station/NearBy?$spatialFilter=nearby(".concat(e,",").concat(t,",500)"),headers:i()}).then((function(o){f=o.data,v(t,e)})).catch((function(t){return console.log("error",t)}))},x=function(){var t=document.getElementById("bikeCity");Object.values(a).forEach((function(e){t.innerHTML+='<option class="form-select-city" value="">'.concat(e,"</option>")}))},h=function(){document.getElementById("bikeRoute").innerHTML+='<option class="form-select" value="">請先選擇城市</option>'},g=function(t,e){m(t,e)},m=function(t,e){var o=document.getElementById("food-cards"),n=document.getElementById("noFood");axios({method:"get",url:"https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$top=30&$spatialFilter=nearby(".concat(e,"%2C").concat(t,"4%2C%201000)&$format=JSON"),headers:i()}).then((function(t){o.innerHTML="";var e=t.data;e.forEach((function(t,e){var n,i,a,r,p={pictureUrl:null!==(n=null===(i=t.Picture)||void 0===i?void 0:i.PictureUrl1)&&void 0!==n?n:"src/image/notfound.png",pictureDescription:null!==(a=null===(r=t.Picture)||void 0===r?void 0:r.PictureDescription1)&&void 0!==a?a:"目前該餐廳沒有照片",name:t.Name,phone:t.Phone,address:t.Address,openTime:t.OpenTime,index:e};o.innerHTML+=b(p)})),n.innerHTML=0===e.length?"此站附近是美食沙漠，記得自備糧食 ᕦ(ò_óˇ)ᕤ":""}))},b=function(t){return'\n        <div id="food-card">\n            <img class="food-image" src="'.concat(t.pictureUrl,'" alt="').concat(t.pictureDescription,'" />\n            <span class="food-title">').concat(t.name.slice(0,12),'</span>\n            <span class="food-address">\n                ').concat(t.address,'\n                <a href="https://www.google.com.tw/maps/place/').concat(t.name,'" target="_blank">\n                    <i class="fas fa-map-pin"></i>\n                </a>\n            </span>\n            <span class="food-phone">').concat(t.phone,'\n                <a href="tel:').concat(t.phone,'">\n                    <i class="fas fa-phone"></i>\n                </a>\n            </span>\n            <span class="food-openTime">').concat(t.openTime,"</span>\n        </div>\n    ")},v=function(t,e){axios({method:"get",url:"https://ptx.transportdata.tw/MOTC/v2/Bike/Availability/NearBy?$spatialFilter=nearby(".concat(e,",").concat(t,",500)"),headers:i()}).then((function(t){var e=t.data,o=[];w(),e.forEach((function(t){f.forEach((function(e){t.StationUID===e.StationUID&&(t.StationName=e.StationName,t.StationAddress=e.StationAddress,t.StationPosition=e.StationPosition,o.push(t))}))})),o.map((function(t){var e='\n                    <div class="bike-cards">\n                        <div class="bike-card">\n                            <h2 class="card-title">'.concat(t.StationName.Zh_tw,'</h2>\n                            <h3 class="card-subtitle">').concat(t.StationAddress.Zh_tw,'</h3>\n                            <h5 class="card-subtitle"><span>Youbike</span>\n                            ').concat(t.ServiceType,'\n                            <span>.0</span></h5>\n                            <span class="card-text">可租借</span>\n                            <span class="bike-numbers">').concat(t.AvailableRentBikes,'</span>\n                            </br>\n                            <span class="card-text">可歸還</span>\n                            <span class="bike-numbers">').concat(t.AvailableReturnBikes,"</span>\n                        </div>\n                    </div>\n                "),o=[t.StationPosition.PositionLat,t.StationPosition.PositionLon];y({latitude:o[0],longitude:o[1]},e)}))})).catch((function(t){return console.log("error",t)}))},y=function(t){var e=t.latitude,o=t.longitude,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=L.icon({iconUrl:"./src/image/YoubikePin.png"}),p=L.marker([e,o],{icon:a}).addTo(n).bindPopup(i);r.push(p)},w=function(){r.map((function(t){n.removeLayer(t)}))}}]);